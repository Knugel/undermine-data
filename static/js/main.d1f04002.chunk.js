(this["webpackJsonpundermine-data"]=this["webpackJsonpundermine-data"]||[]).push([[0],{185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),i=n.n(a),s=(n(185),n(186),n(13)),j=n(8),d=(n(187),n(12)),o=r.a.createContext({behaviors:[],entities:[],dataObjects:[]}),l=n(383),b=n(377),u=n(79),h=n(32),O=n(1);var x=function(){var e=Object(j.h)(),t=Object(c.useContext)(o),n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)(l.a,{style:{padding:20},children:Object(O.jsx)(l.a.Control,{type:"search",placeholder:"Search...",value:a,onChange:function(e){i(e.currentTarget.value)}})}),Object(O.jsx)("div",{className:"table-wrapper",children:Object(O.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"Name"}),Object(O.jsx)("th",{style:{width:"40%"},children:"Guid"}),Object(O.jsx)("th",{style:{width:"10%"}})]})}),Object(O.jsx)("tbody",{children:t.entities.filter((function(e){return e.Name.toLowerCase().includes(a.toLowerCase())||e.Guid.includes(a)})).sort((function(e,t){return e.Name.localeCompare(t.Name)})).map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:t.Name}),Object(O.jsx)("td",{style:{width:"40%"},children:t.Guid}),Object(O.jsx)("td",{style:{textAlign:"center",width:"10%"},children:Object(O.jsx)(s.b,{to:"".concat(e.path,"/").concat(t.Guid,"/").concat(t.Name),children:Object(O.jsx)(h.a,{icon:u.faArrowRight})})})]},t.Guid+t.Name)}))})]})})]})},f=n(17),p=n.n(f),v=n(80),m=n(29),y=n(58);function g(e){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t,{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",Promise.reject(n.statusText));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return e?JSON.parse(e):null}function N(e,t){var n=null!=t?S(t.NodeData.Offset):{x:0,y:0},c=S(e.NodeData.Offset),r={id:e.ID.toString(),type:e.Children?void 0:"output",position:{x:n.x+c.x,y:n.y+c.y},data:{label:e.Name,task:Object(y.a)({Comment:e.NodeData.Comment},e)}};"BehaviorDesigner.Runtime.Tasks.EntryTask"===e.Type&&(r.type="input");var a=[r];if(e.Children){var i,s=Object(m.a)(e.Children);try{for(s.s();!(i=s.n()).done;){var j=i.value;a=a.concat(N(j,e));var d={id:e.ID+"-"+j.ID,source:e.ID.toString(),target:j.ID.toString(),type:"smoothstep"};a.push(d)}}catch(o){s.e(o)}finally{s.f()}}return a}function S(e){var t=e.replace("(","").replace(")","").split(",");return{x:Number.parseFloat(t[0]),y:Number.parseFloat(t[1])}}var w=["SharedInt","SharedBool","SharedFloat","SharedEntity","SharedVector2","SharedVector3","SharedDataObject","SharedEntityList","SharedString","SharedVariable","Boolean","String","Int32","Int64","Single","EntityList","Entity","Vector2","Vector3","List","DataObject","Double","AbortType"];function D(e){var t=e.indexOf("m_");t>-1&&(e=e.substr(t+2));var n=w.find((function(t){return e.startsWith(t)}));return n&&(e=e.substr(n.length)),e.includes("[]")&&(e=e.substr(e.indexOf("[]")+2)),e=e[0].toUpperCase()+e.substr(1)}var I=function(e){var t=Object(c.useState)({behaviors:[],entities:[],dataObjects:[]}),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,n,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.entities.length>0)){e.next=2;break}return e.abrupt("return");case 2:return t="/undermine-data",e.next=5,g(t+"/data/Behaviors.json");case 5:return n=e.sent,e.next=8,g(t+"/data/Entities.json");case 8:return c=e.sent,e.next=11,g(t+"/data/DataObjects.json");case 11:i=e.sent,a({behaviors:n,entities:c,dataObjects:i});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(O.jsx)(o.Provider,{value:r,children:e.children})},E=n(387),R=n(378),T=n(384),F=n(386);var G=function(e){var t,n,r,a,i=Object(c.useContext)(o),j=!Number.isInteger(e.$Ref),d=i.entities.some((function(t){return t.Guid===e.$Ref}));return a=d?i.entities.find((function(t){return t.Guid===e.$Ref})):i.dataObjects.find((function(t){return t.Guid===e.$Ref})),j||(a=i.behaviors.find((function(t){return t.ID===e.$Ref}))),Object(O.jsx)(c.Fragment,{children:j?Object(O.jsx)(c.Fragment,{children:d?Object(O.jsx)(s.b,{to:"/entities/".concat(e.$Ref),children:null===(t=a)||void 0===t?void 0:t.Name}):Object(O.jsx)(s.b,{to:"/data-objects/".concat(e.$Ref),children:null===(n=a)||void 0===n?void 0:n.Name})}):Object(O.jsx)(s.b,{to:"/behaviors/".concat(e.$Ref),children:null===(r=a)||void 0===r?void 0:r.Name})})},L=n(177);var $=function e(t){var n,r=function(e){return"object"===typeof e&&null!=e&&"$Ref"in e},a=function(e){if(null==e)return!0;if("object"!==typeof e)return!1;var t=Object.values(e);return 1===t.length&&1===Object.values(t[0]).length||t.every((function(e){return!e}))},i=function e(t){return null===t||void 0===t?null:"boolean"===typeof t?Object(O.jsx)(l.a.Check,{disabled:!0,checked:t,type:"checkbox"}):r(t)?Object(O.jsx)(G,{$Ref:t.$Ref}):"object"===typeof t?e(Object.values(t)[0]):t.toString()};return Object(O.jsx)(c.Fragment,{children:Object(O.jsx)(b.a,{children:Object(O.jsx)("tbody",{children:(n=t.Instance,n?Object.keys(n).filter((function(e){return!e.endsWith("Ext")})).map((function(e){return{key:e,value:n[e]}})):[]).map((function(t){return Object(O.jsx)("tr",{children:"object"!==typeof t.value||null==t.value||a(t.value)?!a(t.value)||i(t.value)?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("td",{children:D(t.key)}),Object(O.jsx)("td",{children:i(t.value)})]}):null:Object(O.jsx)(c.Fragment,{children:r(t.value)?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("td",{children:D(t.key)}),Object(O.jsx)("td",{children:Object(O.jsx)(G,{$Ref:t.value.$Ref})})]}):Object(O.jsx)("td",{colSpan:2,children:Object(O.jsx)(T.a,{children:Object(O.jsxs)(F.a,{children:[Object(O.jsxs)(T.a.Toggle,{as:F.a.Header,eventKey:t.key,children:[Object(O.jsx)("span",{children:D(t.key)}),Object(O.jsx)(h.a,{icon:L.faArrowDown})]}),Object(O.jsx)(T.a.Collapse,{eventKey:t.key,children:Object(O.jsx)(F.a.Body,{children:Object(O.jsx)(e,{Instance:t.value})})})]})})})})},t.key)}))})})})};var B=function(){var e=Object(j.g)(),t=e.guid,n=e.name,r=Object(c.useContext)(o),a=Object(c.useState)(),i=Object(d.a)(a,2),s=i[0],l=i[1];Object(c.useEffect)((function(){var e=r.entities.filter((function(e){return e.Guid===t}));l(n?e.find((function(e){return e.Name===n})):e.find((function(e){return!0})))}),[t,n,r.entities]);var b=function(e,t){return e?e[t][0]:null};return Object(O.jsx)(c.Fragment,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)(R.a,{eventKey:"root",title:"Entity",children:Object(O.jsx)($,{Instance:s})}),function(e){return e?Object.keys(e).filter((function(e){return e.endsWith("Ext")})):[]}(s).map((function(e){return Object(O.jsx)(R.a,{eventKey:e,title:e,children:Object(O.jsx)($,{Instance:b(s,e)})},e)}))]})})},P=n(381),A=n(385),J=n(180),W=n(30),V=n(118),K=n.n(V),M=n(382),U=n(379),z=n(380),H=n(175),Y=n(178);var _=function(e){var t=172,n=Object(c.useState)([]),r=Object(d.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(),j=Object(d.a)(s,2),o=j[0],l=j[1],b=Object(c.useState)(!1),u=Object(d.a)(b,2),x=u[0],f=u[1],p=Object(c.useRef)(null);return Object(c.useEffect)((function(){var n=new K.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var c=C(e.Instance.TaskJSON);if(null!=c){var r=N(c.EntryTask);(r=r.concat(N(c.RootTask))).push({id:"0-1",source:"0",target:"1"}),i(function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TB",r="LR"===c;return n.setGraph({rankdir:c}),e.forEach((function(e){Object(W.d)(e)?n.setNode(e.id,{width:t,height:36}):n.setEdge(e.source,e.target)})),K.a.layout(n),e.map((function(e){if(Object(W.d)(e)){var t=n.node(e.id);e.targetPosition=r?W.b.Left:W.b.Top,e.sourcePosition=r?W.b.Right:W.b.Bottom,e.position={x:t.x-86+Math.random()/1e3,y:t.y-18}}return e}))}(r))}else i([])}),[e.Instance.TaskJSON]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"btn",style:{position:"absolute",zIndex:10,marginLeft:"8px",marginTop:"8px",backdropFilter:"blur(4px)",background:"rgba(0, 0, 0, 0.4)"},onClick:function(){return function(){var t,n=C(e.Instance.TaskJSON),c=function e(t,n){var c;if(n.ID.toString()!==t.id){var r,a=Object(m.a)(null!==(c=n.Children)&&void 0!==c?c:[]);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.ID.toString()===t.id)return void(i.NodeData.Offset="(".concat(t.position.x,", ").concat(t.position.y,")"));e(t,i)}}catch(s){a.e(s)}finally{a.f()}}else n.NodeData.Offset="(".concat(t.position.x,", ").concat(t.position.y,")")},r=Object(m.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value,s=n.RootTask,j=n.EntryTask;c(i,s),c(i,j)}}catch(d){r.e(d)}finally{r.f()}navigator.clipboard.writeText(JSON.stringify(n)),f(!0),setTimeout((function(){return f(!1)}),2e3)}()},ref:p,children:Object(O.jsx)(h.a,{icon:Y.faClipboard})}),Object(O.jsx)(M.a,{target:p.current,show:x,placement:"bottom",children:function(e){return Object(O.jsx)(U.a,Object(y.a)(Object(y.a)({id:"overlay-example"},e),{},{children:"Copied to clipboard"}))}}),Object(O.jsxs)(z.a,{style:{height:"100%"},children:[Object(O.jsx)(H.a,{children:Object(O.jsx)(W.c,{elements:a,nodesDraggable:!1,onElementClick:function(e,t){if("data"in t){var n=t.data.task;n.Comment||delete n.Comment,delete n.Children,delete n.NodeData,l(n)}},children:Object(O.jsx)(W.a,{})})}),Object(O.jsx)(H.a,{xs:!0,lg:5,style:{overflow:"hidden",overflowY:"auto",height:"100%",wordBreak:"break-all"},children:o?Object(O.jsx)(c.Fragment,{children:Object(O.jsx)($,{Instance:o})}):null})]})]})};var q=function(){var e=Object(j.g)().id,t=Object(c.useContext)(o),n=Object(c.useState)(null),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=t.behaviors.find((function(t){return t.ID===Number(e)}));n&&i(n)}),[e,t]),Object(O.jsx)(c.Fragment,{children:a?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("div",{style:{height:400},children:Object(O.jsx)(_,{Instance:a})}),Object(O.jsx)("div",{children:Object(O.jsx)(b.a,{children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{children:a.Name})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"ID"}),Object(O.jsx)("td",{children:a.ID})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"AutoStart"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.AutoStart,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Interruptable"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.Interruptable,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"PauseWhenDisabled"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.PauseWhenDisabled,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"PreProcess"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.PreProcess,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"RestartWhenComplete"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.RestartWhenComplete,type:"checkbox"})})]}),a.Objects.length>0?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,children:Object(O.jsx)($,{Instance:{Objects:a.Objects}})})}):null]})})})]}):null})};var Q=function(){var e=Object(j.h)(),t=Object(c.useContext)(o),n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)(l.a,{style:{padding:20},children:Object(O.jsx)(l.a.Control,{type:"search",placeholder:"Search...",value:a,onChange:function(e){i(e.currentTarget.value)}})}),Object(O.jsx)("div",{className:"table-wrapper",children:Object(O.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"Name"}),Object(O.jsx)("th",{style:{width:"40%"},children:"Guid"}),Object(O.jsx)("th",{style:{width:"10%"}})]})}),Object(O.jsx)("tbody",{children:t.dataObjects.filter((function(e){return e.Name.toLowerCase().includes(a.toLowerCase())||e.Guid.includes(a)})).sort((function(e,t){return e.Name.localeCompare(t.Name)})).map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:t.Name}),Object(O.jsx)("td",{style:{width:"40%"},children:t.Guid}),Object(O.jsx)("td",{style:{width:"10%",textAlign:"center"},children:Object(O.jsx)(s.b,{to:"".concat(e.path,"/").concat(t.Guid),children:Object(O.jsx)(h.a,{icon:u.faArrowRight})})})]},t.Guid+t.Name)}))})]})})]})};var X=function(){var e=Object(j.g)().guid,t=Object(c.useContext)(o),n=Object(c.useState)(),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=t.dataObjects.find((function(t){return t.Guid===e}));i(n)}),[e,t.dataObjects]),Object(O.jsx)(c.Fragment,{children:Object(O.jsx)(E.a,{children:Object(O.jsx)(R.a,{eventKey:"root",title:"Data Object",children:Object(O.jsx)($,{Instance:a})})})})};var Z=function(){return Object(O.jsx)(I,{children:Object(O.jsxs)(s.a,{basename:"/",children:[Object(O.jsx)(P.a,{children:Object(O.jsxs)(A.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(O.jsx)(A.a.Brand,{children:"UnderMine Data"}),Object(O.jsx)(A.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(J.a,{className:"mr-auto",children:[Object(O.jsx)(J.a.Link,{as:s.c,to:"/entities",children:"Entities"}),Object(O.jsx)(J.a.Link,{as:s.c,to:"/data-objects",children:"Data Objects"})]})}),Object(O.jsx)(A.a.Text,{children:Object(O.jsx)("span",{children:"Version: 1.2.1.14"})})]})}),Object(O.jsx)(P.a,{className:"content-container",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/entities",exact:!0,children:Object(O.jsx)(x,{})}),Object(O.jsx)(j.b,{path:"/entities/:guid",exact:!0,children:Object(O.jsx)(B,{})}),Object(O.jsx)(j.b,{path:"/entities/:guid/:name",children:Object(O.jsx)(B,{})}),Object(O.jsx)(j.b,{path:"/data-objects",exact:!0,children:Object(O.jsx)(Q,{})}),Object(O.jsx)(j.b,{path:"/data-objects/:guid",exact:!0,children:Object(O.jsx)(X,{})}),Object(O.jsx)(j.b,{path:"/behaviors/:id",children:Object(O.jsx)(q,{})}),Object(O.jsx)(j.b,{render:function(){return Object(O.jsx)(j.a,{to:"/entities"})}})]})})]})})};i.a.render(Object(O.jsx)(Z,{}),document.getElementById("root"))}},[[372,1,2]]]);
//# sourceMappingURL=main.d1f04002.chunk.js.map