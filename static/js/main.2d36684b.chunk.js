(this["webpackJsonpundermine-data"]=this["webpackJsonpundermine-data"]||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(25),s=n.n(a),i=(n(178),n(179),n(12)),j=n(8),d=(n(180),n(13)),b=r.a.createContext({behaviors:[],entities:[],dataObjects:[]}),l=n(372),o=n(368),u=n(73),h=n(46),O=n(1);var x=function(){var e=Object(j.h)(),t=Object(c.useContext)(b),n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)(l.a,{style:{padding:20},children:Object(O.jsx)(l.a.Control,{type:"search",placeholder:"Search...",value:a,onChange:function(e){s(e.currentTarget.value)}})}),Object(O.jsx)("div",{className:"table-wrapper",children:Object(O.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"Name"}),Object(O.jsx)("th",{style:{width:"40%"},children:"Guid"}),Object(O.jsx)("th",{style:{width:"10%"}})]})}),Object(O.jsx)("tbody",{children:t.entities.filter((function(e){return e.Name.toLowerCase().includes(a.toLowerCase())||e.Guid.includes(a)})).sort((function(e,t){return e.Name.localeCompare(t.Name)})).map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:t.Name}),Object(O.jsx)("td",{style:{width:"40%"},children:t.Guid}),Object(O.jsx)("td",{style:{textAlign:"center",width:"10%"},children:Object(O.jsx)(i.b,{to:"".concat(e.path,"/").concat(t.Guid,"/").concat(t.Name),children:Object(O.jsx)(h.a,{icon:u.faArrowRight})})})]},t.Guid+t.Name)}))})]})})]})},f=n(16),v=n.n(f),p=n(74),m=n(47),y=n(169);function g(e){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t,{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",Promise.reject(n.statusText));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){var n=null!=t?N(t.NodeData.Offset):{x:0,y:0},c=N(e.NodeData.Offset),r={id:e.ID.toString(),type:e.Children?void 0:"output",position:{x:n.x+c.x,y:n.y+c.y},data:{label:e.Name,task:Object(y.a)({Comment:e.NodeData.Comment},e)}};"BehaviorDesigner.Runtime.Tasks.EntryTask"===e.Type&&(r.type="input");var a=[r];if(e.Children){var s,i=Object(m.a)(e.Children);try{for(i.s();!(s=i.n()).done;){var j=s.value;a=a.concat(C(j,e));var d={id:e.ID+"-"+j.ID,source:e.ID.toString(),target:j.ID.toString(),type:"smoothstep"};a.push(d)}}catch(b){i.e(b)}finally{i.f()}}return a}function N(e){var t=e.replace("(","").replace(")","").split(",");return{x:Number.parseFloat(t[0]),y:Number.parseFloat(t[1])}}var w=["SharedInt","SharedBool","SharedFloat","SharedEntity","SharedVector2","SharedVector3","SharedDataObject","SharedEntityList","SharedString","SharedVariable","Boolean","String","Int32","Int64","Single","EntityList","Entity","Vector2","Vector3","List","DataObject","Double","AbortType"];function S(e){var t=e.indexOf("m_");t>-1&&(e=e.substr(t+2));var n=w.find((function(t){return e.startsWith(t)}));return n&&(e=e.substr(n.length)),e.includes("[]")&&(e=e.substr(e.indexOf("[]")+2)),e=e[0].toUpperCase()+e.substr(1)}var D=function(e){var t=Object(c.useState)({behaviors:[],entities:[],dataObjects:[]}),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(p.a)(v.a.mark((function e(){var t,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.entities.length>0)){e.next=2;break}return e.abrupt("return");case 2:return t="/undermine-data",e.next=5,g(t+"/data/Behaviors.json");case 5:return n=e.sent,e.next=8,g(t+"/data/Entities.json");case 8:return c=e.sent,e.next=11,g(t+"/data/DataObjects.json");case 11:s=e.sent,a({behaviors:n,entities:c,dataObjects:s});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(O.jsx)(b.Provider,{value:r,children:e.children})},I=n(376),E=n(369),R=n(373),G=n(375);var F=function(e){var t,n,r,a,s=Object(c.useContext)(b),j=!Number.isInteger(e.$Ref),d=s.entities.some((function(t){return t.Guid===e.$Ref}));return a=d?s.entities.find((function(t){return t.Guid===e.$Ref})):s.dataObjects.find((function(t){return t.Guid===e.$Ref})),j||(a=s.behaviors.find((function(t){return t.ID===e.$Ref}))),Object(O.jsx)(c.Fragment,{children:j?Object(O.jsx)(c.Fragment,{children:d?Object(O.jsx)(i.b,{to:"/entities/".concat(e.$Ref),children:null===(t=a)||void 0===t?void 0:t.Name}):Object(O.jsx)(i.b,{to:"/data-objects/".concat(e.$Ref),children:null===(n=a)||void 0===n?void 0:n.Name})}):Object(O.jsx)(i.b,{to:"/behaviors/".concat(e.$Ref),children:null===(r=a)||void 0===r?void 0:r.Name})})},T=n(172);var $=function e(t){var n,r=function(e){return"object"===typeof e&&null!=e&&"$Ref"in e},a=function(e){if(null==e)return!0;if("object"!==typeof e)return!1;var t=Object.values(e);return 1===t.length&&1===Object.values(t[0]).length||t.every((function(e){return!e}))},s=function e(t){return null===t||void 0===t?null:"boolean"===typeof t?Object(O.jsx)(l.a.Check,{disabled:!0,checked:t,type:"checkbox"}):r(t)?Object(O.jsx)(F,{$Ref:t.$Ref}):"object"===typeof t?e(Object.values(t)[0]):t.toString()};return Object(O.jsx)(c.Fragment,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)("tbody",{children:(n=t.Instance,n?Object.keys(n).filter((function(e){return!e.endsWith("Ext")})).map((function(e){return{key:e,value:n[e]}})):[]).map((function(t){return Object(O.jsx)("tr",{children:"object"!==typeof t.value||null==t.value||a(t.value)?!a(t.value)||s(t.value)?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("td",{children:S(t.key)}),Object(O.jsx)("td",{children:s(t.value)})]}):null:Object(O.jsx)(c.Fragment,{children:r(t.value)?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("td",{children:S(t.key)}),Object(O.jsx)("td",{children:Object(O.jsx)(F,{$Ref:t.value.$Ref})})]}):Object(O.jsx)("td",{colSpan:2,children:Object(O.jsx)(R.a,{children:Object(O.jsxs)(G.a,{children:[Object(O.jsxs)(R.a.Toggle,{as:G.a.Header,eventKey:t.key,children:[Object(O.jsx)("span",{children:S(t.key)}),Object(O.jsx)(h.a,{icon:T.faArrowDown})]}),Object(O.jsx)(R.a.Collapse,{eventKey:t.key,children:Object(O.jsx)(G.a.Body,{children:Object(O.jsx)(e,{Instance:t.value})})})]})})})})},t.key)}))})})})};var L=function(){var e=Object(j.g)(),t=e.guid,n=e.name,r=Object(c.useContext)(b),a=Object(c.useState)(),s=Object(d.a)(a,2),i=s[0],l=s[1];Object(c.useEffect)((function(){var e=r.entities.filter((function(e){return e.Guid===t}));l(n?e.find((function(e){return e.Name===n})):e.find((function(e){return!0})))}),[t,n,r.entities]);var o=function(e,t){return e?e[t][0]:null};return Object(O.jsx)(c.Fragment,{children:Object(O.jsxs)(I.a,{children:[Object(O.jsx)(E.a,{eventKey:"root",title:"Entity",children:Object(O.jsx)($,{Instance:i})}),function(e){return e?Object.keys(e).filter((function(e){return e.endsWith("Ext")})):[]}(i).map((function(e){return Object(O.jsx)(E.a,{eventKey:e,title:e,children:Object(O.jsx)($,{Instance:o(i,e)})},e)}))]})})},B=n(371),P=n(374),A=n(173),W=n(29),V=n(112),J=n.n(V),K=n(370),M=n(168);var U=function(e){var t=172,n=Object(c.useState)([]),r=Object(d.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(),j=Object(d.a)(i,2),b=j[0],l=j[1];return Object(c.useEffect)((function(){var n=new J.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var c,r=(c=e.Instance.TaskJSON)?JSON.parse(c):null;if(null!=r){var a=C(r.EntryTask);(a=a.concat(C(r.RootTask))).push({id:"0-1",source:"0",target:"1"}),s(function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TB",r="LR"===c;return n.setGraph({rankdir:c}),e.forEach((function(e){Object(W.d)(e)?n.setNode(e.id,{width:t,height:36}):n.setEdge(e.source,e.target)})),J.a.layout(n),e.map((function(e){if(Object(W.d)(e)){var t=n.node(e.id);e.targetPosition=r?W.b.Left:W.b.Top,e.sourcePosition=r?W.b.Right:W.b.Bottom,e.position={x:t.x-86+Math.random()/1e3,y:t.y-18}}return e}))}(a))}else s([])}),[e.Instance.TaskJSON]),Object(O.jsxs)(K.a,{style:{height:"100%"},children:[Object(O.jsx)(M.a,{children:Object(O.jsx)(W.c,{elements:a,nodesDraggable:!1,onElementClick:function(e,t){if("data"in t){var n=t.data.task;n.Comment||delete n.Comment,delete n.Children,delete n.NodeData,l(n)}},children:Object(O.jsx)(W.a,{})})}),Object(O.jsx)(M.a,{xs:!0,lg:5,style:{overflow:"hidden",overflowY:"auto",height:"100%",wordBreak:"break-all"},children:b?Object(O.jsx)(c.Fragment,{children:Object(O.jsx)($,{Instance:b})}):null})]})};var H=function(){var e=Object(j.g)().id,t=Object(c.useContext)(b),n=Object(c.useState)(null),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var n=t.behaviors.find((function(t){return t.ID===Number(e)}));n&&s(n)}),[e,t]),Object(O.jsx)(c.Fragment,{children:a?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("div",{style:{height:400},children:Object(O.jsx)(U,{Instance:a})}),Object(O.jsx)("div",{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{children:a.Name})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"ID"}),Object(O.jsx)("td",{children:a.ID})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"AutoStart"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.AutoStart,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Interruptable"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.Interruptable,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"PauseWhenDisabled"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.PauseWhenDisabled,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"PreProcess"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.PreProcess,type:"checkbox"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"RestartWhenComplete"}),Object(O.jsx)("td",{children:Object(O.jsx)(l.a.Check,{disabled:!0,checked:a.RestartWhenComplete,type:"checkbox"})})]}),a.Objects.length>0?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,children:Object(O.jsx)($,{Instance:{Objects:a.Objects}})})}):null]})})})]}):null})};var Y=function(){var e=Object(j.h)(),t=Object(c.useContext)(b),n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)(l.a,{style:{padding:20},children:Object(O.jsx)(l.a.Control,{type:"search",placeholder:"Search...",value:a,onChange:function(e){s(e.currentTarget.value)}})}),Object(O.jsx)("div",{className:"table-wrapper",children:Object(O.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{width:"40%"},children:"Name"}),Object(O.jsx)("th",{style:{width:"40%"},children:"Guid"}),Object(O.jsx)("th",{style:{width:"10%"}})]})}),Object(O.jsx)("tbody",{children:t.dataObjects.filter((function(e){return e.Name.toLowerCase().includes(a.toLowerCase())||e.Guid.includes(a)})).sort((function(e,t){return e.Name.localeCompare(t.Name)})).map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{width:"40%"},children:t.Name}),Object(O.jsx)("td",{style:{width:"40%"},children:t.Guid}),Object(O.jsx)("td",{style:{width:"10%",textAlign:"center"},children:Object(O.jsx)(i.b,{to:"".concat(e.path,"/").concat(t.Guid),children:Object(O.jsx)(h.a,{icon:u.faArrowRight})})})]},t.Guid+t.Name)}))})]})})]})};var _=function(){var e=Object(j.g)().guid,t=Object(c.useContext)(b),n=Object(c.useState)(),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var n=t.dataObjects.find((function(t){return t.Guid===e}));s(n)}),[e,t.dataObjects]),Object(O.jsx)(c.Fragment,{children:Object(O.jsx)(I.a,{children:Object(O.jsx)(E.a,{eventKey:"root",title:"Data Object",children:Object(O.jsx)($,{Instance:a})})})})};var q=function(){return Object(O.jsx)(D,{children:Object(O.jsxs)(i.a,{basename:"/",children:[Object(O.jsx)(B.a,{children:Object(O.jsxs)(P.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(O.jsx)(P.a.Brand,{children:"UnderMine Data"}),Object(O.jsx)(P.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsxs)(A.a,{className:"mr-auto",children:[Object(O.jsx)(A.a.Link,{as:i.c,to:"/entities",children:"Entities"}),Object(O.jsx)(A.a.Link,{as:i.c,to:"/data-objects",children:"Data Objects"})]})}),Object(O.jsx)(P.a.Text,{children:Object(O.jsx)("span",{children:"Version: 1.2.0.186"})})]})}),Object(O.jsx)(B.a,{className:"content-container",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/entities",exact:!0,children:Object(O.jsx)(x,{})}),Object(O.jsx)(j.b,{path:"/entities/:guid",exact:!0,children:Object(O.jsx)(L,{})}),Object(O.jsx)(j.b,{path:"/entities/:guid/:name",children:Object(O.jsx)(L,{})}),Object(O.jsx)(j.b,{path:"/data-objects",exact:!0,children:Object(O.jsx)(Y,{})}),Object(O.jsx)(j.b,{path:"/data-objects/:guid",exact:!0,children:Object(O.jsx)(_,{})}),Object(O.jsx)(j.b,{path:"/behaviors/:id",children:Object(O.jsx)(H,{})}),Object(O.jsx)(j.b,{render:function(){return Object(O.jsx)(j.a,{to:"/entities"})}})]})})]})})};s.a.render(Object(O.jsx)(q,{}),document.getElementById("root"))}},[[366,1,2]]]);
//# sourceMappingURL=main.2d36684b.chunk.js.map